# This is used in development only (Alchemy is used for production deployments)

name = "draw-on-my-phone-game-dev"
main = "server/src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "draw-on-my-phone-game-dev-db"
database_id = "local"

# Durable Object binding (one per game room)
[[durable_objects.bindings]]
name = "GAME_ROOM"
class_name = "GameRoom"
script_name = "draw-on-my-phone-game-dev"

# Durable Object migration
[[migrations]]
tag = "v1"
new_classes = ["GameRoom"]

# Static assets (client build)
# In dev: Vite serves client at :5173 (this is unused)
# In production: Alchemy uploads these assets to Workers
# [site]
# bucket = "./client/dist"
